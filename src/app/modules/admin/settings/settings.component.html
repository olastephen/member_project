<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden">

    <div class="flex flex-col flex-auto min-w-0">

        <!-- Main -->
        <div class="flex-auto p-6 sm:p-10">
    
            <!-- CONTENT GOES HERE -->
            <div class="h-400 min-h-400 max-h-400 border-2 border-dashed border-gray-300 rounded-2xl">
                <mat-drawer-content class="flex flex-col">

                    <!-- Main -->
                    <div class="flex-auto">

                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row md:flex-col flex-auto justify-between py-8 px-6 md:px-8 border-b">

                            <!-- Title -->
                            <div>
                                <div class="text-4xl font-extrabold tracking-tight leading-none">Settings</div>
                                <div class="ml-0.5 font-medium text-secondary">
                                    <!-- Optionally, some subtitle or additional info -->
                                </div>
                            </div>

                            <!-- Main actions -->
                            <div class="flex items-center mt-4 sm:mt-0 md:mt-4">
                                <!-- Optional search or additional action -->
                            </div>
                        </div>

                        <!-- Settings form -->
                        <div class="relative p-6 md:p-8">
                            <form [formGroup]="settingsForm">
                                <!-- Name -->
                                <mat-form-field class="w-full" subscriptSizing="dynamic">
                                    <mat-label>Name</mat-label>
                                    <mat-icon matPrefix class="hidden sm:flex icon-size-5" svgIcon="heroicons_solid:user-circle"></mat-icon>
                                    <input matInput formControlName="name" placeholder="Name" spellcheck="false">
                                </mat-form-field>

                                <!-- Email -->
                                <mat-form-field class="w-full" subscriptSizing="dynamic">
                                    <mat-label>Email</mat-label>
                                    <mat-icon matPrefix class="hidden sm:flex icon-size-5" svgIcon="heroicons_solid:envelope"></mat-icon>
                                    <input matInput formControlName="email" placeholder="Email address" spellcheck="false">
                                </mat-form-field>

                                <!-- Company -->
                                <mat-form-field class="w-full" subscriptSizing="dynamic">
                                    <mat-label>Company</mat-label>
                                    <mat-icon matPrefix class="hidden sm:flex icon-size-5" svgIcon="heroicons_outline:briefcase"></mat-icon>
                                    <input matInput formControlName="company" placeholder="Company">
                                </mat-form-field>

                                <!-- Two-factor authentication -->
                                <mat-checkbox formControlName="two_factor_enabled">Enable Two-Factor Authentication</mat-checkbox>

                                <!-- Privacy settings -->
                                <mat-checkbox formControlName="privacy_settings.setting1">Privacy Setting 1</mat-checkbox>
                                <mat-checkbox formControlName="privacy_settings.setting2">Privacy Setting 2</mat-checkbox>

                                <!-- Password fields -->
                                <mat-form-field class="w-full" subscriptSizing="dynamic">
                                    <mat-label>New Password</mat-label>
                                    <mat-icon matPrefix class="hidden sm:flex icon-size-5" svgIcon="heroicons_solid:lock-closed"></mat-icon>
                                    <input matInput formControlName="newPassword" placeholder="New Password" type="password">
                                </mat-form-field>
                                <mat-form-field class="w-full" subscriptSizing="dynamic">
                                    <mat-label>Old Password</mat-label>
                                    <mat-icon matPrefix class="hidden sm:flex icon-size-5" svgIcon="heroicons_solid:lock-closed"></mat-icon>
                                    <input matInput formControlName="oldPassword" placeholder="Old Password" type="password">
                                </mat-form-field>

                                <!-- Avatar -->
                                <div class="relative flex items-center">
                                    <div class="relative w-32 h-32 rounded-full overflow-hidden">
                                        <img *ngIf="settingsForm.get('avatar').value" [src]="settingsForm.get('avatar').value" alt="Avatar">
                                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                                            <button mat-icon-button (click)="removeAvatar()">
                                                <mat-icon svgIcon="heroicons_outline:trash" class="text-white"></mat-icon>
                                            </button>
                                            <input #avatarFileInput type="file" (change)="uploadAvatar($event.target.files)" class="hidden">
                                            <button mat-icon-button (click)="avatarFileInput.click()">
                                                <mat-icon svgIcon="heroicons_solid:camera" class="text-white"></mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Social Accounts -->
                                <div formArrayName="social_accounts">
                                    <div *ngFor="let account of socialAccounts.controls; let i = index" [formGroupName]="i">
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>Provider</mat-label>
                                            <input matInput formControlName="provider" placeholder="Provider">
                                        </mat-form-field>
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>Email</mat-label>
                                            <input matInput formControlName="email" placeholder="Email">
                                        </mat-form-field>
                                        <button mat-icon-button (click)="removeSocialAccountField(i)">
                                            <mat-icon svgIcon="heroicons_solid:trash"></mat-icon>
                                        </button>
                                    </div>
                                    <button mat-button (click)="addSocialAccountField()">Add Social Account</button>
                                </div>

                                <!-- Login Logs -->
                                <div formArrayName="login_logs">
                                    <div *ngFor="let log of loginLogs.controls; let i = index" [formGroupName]="i">
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>Login Date</mat-label>
                                            <input matInput formControlName="login_date" placeholder="Login Date">
                                        </mat-form-field>
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>IP Address</mat-label>
                                            <input matInput formControlName="ip_address" placeholder="IP Address">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <!-- Unlock Sessions -->
                                <div formArrayName="unlock_sessions">
                                    <div *ngFor="let session of unlockSessions.controls; let i = index" [formGroupName]="i">
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>Session Date</mat-label>
                                            <input matInput formControlName="session_date" placeholder="Session Date">
                                        </mat-form-field>
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>IP Address</mat-label>
                                            <input matInput formControlName="ip_address" placeholder="IP Address">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <!-- Sessions -->
                                <div formArrayName="sessions">
                                    <div *ngFor="let session of sessions.controls; let i = index" [formGroupName]="i">
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>Session ID</mat-label>
                                            <input matInput formControlName="session_id" placeholder="Session ID">
                                        </mat-form-field>
                                        <mat-form-field class="w-full" subscriptSizing="dynamic">
                                            <mat-label>Device</mat-label>
                                            <input matInput formControlName="device" placeholder="Device">
                                        </mat-form-field>
                                        <button mat-button color="warn" (click)="revokeSession(session.get('session_id').value)">
                                            Revoke
                                        </button>
                                    </div>
                                </div>

                                <!-- Actions -->
                                <div class="flex items-center mt-4">
                                    <button mat-button color="primary" (click)="updateProfile()">Save</button>
                                    <button mat-button color="warn" (click)="confirmDeleteAccount()">Delete Account</button>
                                </div>
                            </form>
                        </div>

                    </div>

                </mat-drawer-content>
            </div>
        </div>

    </div>


</div>
